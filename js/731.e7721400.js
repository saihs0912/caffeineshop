"use strict";(self["webpackChunkcaffeineshop"]=self["webpackChunkcaffeineshop"]||[]).push([[731],{731:function(s,t,e){e.r(t),e.d(t,{default:function(){return v}});var o=e(6768),n=e(5130),a=e(6409);const r={class:"bg"},l={class:"container"},i={class:"col-md-4 loginBox"},c={class:"form-group"},u={class:"mb-2"},d={class:"mb-2"};function m(s,t,e,m,p,g){const k=(0,o.g2)("toast-messages");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",r,[(0,o.Lk)("div",l,[(0,o.Lk)("form",{class:"row justify-content-center",onSubmit:t[2]||(t[2]=(0,n.D$)((...s)=>g.signIn&&g.signIn(...s),["prevent"]))},[(0,o.Lk)("div",i,[t[6]||(t[6]=(0,o.Lk)("div",{style:{width:"60px",margin:"0 auto"}},[(0,o.Lk)("img",{src:a,width:"80",alt:""})],-1)),t[7]||(t[7]=(0,o.Lk)("h3",{style:{"text-align":"center"}},"後台管理系統",-1)),(0,o.Lk)("div",c,[(0,o.Lk)("div",u,[t[3]||(t[3]=(0,o.Lk)("label",{for:"inputEmail",class:"sr-only"},"請輸入Email",-1)),(0,o.bo)((0,o.Lk)("input",{type:"email",id:"inputEmail",name:"userEmail",placeholder:"請輸入Email",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=s=>p.user.username=s)},null,512),[[n.Jo,p.user.username]])]),(0,o.Lk)("div",d,[t[4]||(t[4]=(0,o.Lk)("label",{for:"inputPassword",class:"sr-only"},"請輸入密碼",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password",id:"inputPassword",name:"userPass",placeholder:"請輸入密碼",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=s=>p.user.password=s),autocomplete:"new-password"},null,512),[[n.Jo,p.user.password]])]),t[5]||(t[5]=(0,o.Lk)("div",{class:"text-end mt-4"},[(0,o.Lk)("button",{class:"btn btn-lg btn-primary btn-block",type:"submit"},"登入")],-1))])])],32)])]),(0,o.bF)(k)],64)}e(4114);var p=e(1600),g=e(6052),k={data(){return{user:{username:"",password:""}}},components:{ToastMessages:g.A},provide(){return{emitter:p.A}},methods:{signIn(){const s="https://vue3-course-api.hexschool.io/admin/signin";this.$http.post(s,this.user).then(s=>{if(s.data.success){const{token:t,expired:e}=s.data;this.$InformMessage(s,"登入"),document.cookie=`makotoToken=${t}; expires=${e}`,setTimeout(()=>{this.$router.push("/dashboard/productlist")},3e3)}else console.log(s)})}}},h=e(1241);const b=(0,h.A)(k,[["render",m]]);var v=b},6052:function(s,t,e){e.d(t,{A:function(){return f}});var o=e(6768);const n={class:"toast-container position-fixed bottom-0 start-0 p-3",style:{"z-index":"1050"}};function a(s,t,e,a,r,l){const i=(0,o.g2)("toast-modal");return(0,o.uX)(),(0,o.CE)("div",n,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.messages,(s,t)=>((0,o.uX)(),(0,o.Wv)(i,{key:t,msg:s},null,8,["msg"]))),128))])}e(4114);var r=e(4232);const l={class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true",ref:"toast"},i={class:"toast-header"},c={class:"me-auto"},u={key:0,class:"toast-body"};function d(s,t,e,n,a,d){return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("div",i,[(0,o.Lk)("span",{class:(0,r.C4)([`bg-${e.msg.style}`,"p-2 rounded me-2 d-inline-block"])},null,2),(0,o.Lk)("strong",c,(0,r.v_)(e.msg.title),1),t[0]||(t[0]=(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"},null,-1))]),e.msg.content?((0,o.uX)(),(0,o.CE)("div",u,(0,r.v_)(e.msg.content),1)):(0,o.Q3)("",!0)],512)}var m=e(8077),p={name:"ToastModal",props:["msg"],mounted(){const s=this.$refs.toast,t=new m.y8(s,{delay:6e3});t.show()}},g=e(1241);const k=(0,g.A)(p,[["render",d]]);var h=k,b={name:"ToastMessages",components:{ToastModal:h},data(){return{messages:[]}},inject:["emitter"],mounted(){this.emitter.on("push-message",s=>{const{style:t="success",title:e,content:o}=s;this.messages.push({style:t,title:e,content:o})})}};const v=(0,g.A)(b,[["render",a]]);var f=v},6409:function(s,t,e){s.exports=e.p+"img/logo-1.3d9ac528.png"}}]);
//# sourceMappingURL=731.e7721400.js.map