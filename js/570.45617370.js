"use strict";(self["webpackChunkcaffeineshop"]=self["webpackChunkcaffeineshop"]||[]).push([[570],{4570:function(t,s,i){i.r(s),i.d(s,{default:function(){return ot}});var e=i(6768),o=i(4232),r=i(5130);const c={class:"container"},d={class:"row"},l={class:"col-12"},n={class:"mt-4 mb-4"},a={key:0},u={key:1},h={key:2},p={class:"col-lg-9 col-md-8 col-sm-12 col-xs-12 py-3"},m={class:"container"},k={class:"row"},b={key:0,class:"col-sm-12 col-12 pb-3"},f={class:"col-lg-5 col-md-12"},y={class:"p-2 sqLarge"},w=["src","alt"],L={class:"d-flex p-2"},v=["onMouseover"],x=["src","alt"],g={class:"col-lg-7 col-md-12"},C={class:"d-flex flex-column"},W={key:0,class:"pb-4"},I={class:"pt-4 border-top"},E={class:"col-lg-3 col-md-4 col-sm-12 col-xs-12"},N={class:"border p-3"},X={class:"fs-3"},S={key:0,class:"fs-3 fw-bold text-success"},P={class:"fs-3"},_={key:0,class:"text-secondary fs-6"},$={key:1,class:"fw-bold"},F={class:"d-grid gap-2 col-12 mx-auto",style:{padding:"20px 0"}},z={class:"form-floating"},A=["value"],T=["disabled"],q={key:0,style:{width:"23px"}},U={key:1,class:"addToCartAnimation",style:{width:"23px"}},B={class:"text-center"},Q={class:"btn-group w-100 mb-3"},K={class:"btn-group w-100"},M={class:"col-lg-12 col-md-12 col-sm-12 col-xs-12 col-12 p-3 pb-5"},O={class:"col-lg-12 col-md-12 col-sm-12 col-xs-12 col-12 p-3 pb-5"};function D(t,s,i,D,R,J){const V=(0,e.g2)("router-link"),Z=(0,e.g2)("related-products");return(0,e.uX)(),(0,e.CE)("div",c,[(0,e.Lk)("div",d,[(0,e.Lk)("div",l,[(0,e.Lk)("div",n,[(0,e.bF)(V,{to:"/",style:{"text-decoration":"none"}},{default:(0,e.k6)(()=>[...s[6]||(s[6]=[(0,e.eW)("首頁",-1)])]),_:1}),s[8]||(s[8]=(0,e.eW)(" > ",-1)),(0,e.bF)(V,{to:"/shopping",style:{"text-decoration":"none"}},{default:(0,e.k6)(()=>[...s[7]||(s[7]=[(0,e.eW)("線上商店",-1)])]),_:1}),s[9]||(s[9]=(0,e.eW)(" > ",-1)),"咖啡豆"===R.product.category?((0,e.uX)(),(0,e.CE)("span",a,"咖啡")):"罐裝茶"===R.product.category?((0,e.uX)(),(0,e.CE)("span",u,"茶")):((0,e.uX)(),(0,e.CE)("span",h,"其他")),s[10]||(s[10]=(0,e.eW)(" > ",-1)),(0,e.Lk)("span",null,(0,o.v_)(R.product.category),1)])]),(0,e.Lk)("div",p,[(0,e.Lk)("div",m,[(0,e.Lk)("div",k,[R.widthSize<=991?((0,e.uX)(),(0,e.CE)("div",b,[(0,e.Lk)("h2",null,(0,o.v_)(R.product.title),1)])):(0,e.Q3)("",!0),(0,e.Lk)("div",f,[(0,e.Lk)("div",y,[(0,e.Lk)("div",null,[(0,e.Lk)("img",{class:"img-fluid",src:R.imgArray[R.num],alt:R.product.title+0+(R.num+1)},null,8,w)])]),(0,e.Lk)("div",L,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(R.imgArray,(t,s)=>((0,e.uX)(),(0,e.CE)("div",{class:(0,o.C4)(["w-25 sqSmall m-1",{"hover-focus":R.num===s}]),key:s,onMouseover:t=>R.num=s},[(0,e.Lk)("div",null,[(0,e.Lk)("img",{class:"img-fluid",src:R.imgArray[s],alt:R.product.title+"縮圖0"+(R.num+1)},null,8,x)])],42,v))),128))])]),(0,e.Lk)("div",g,[(0,e.Lk)("div",C,[R.widthSize>=992?((0,e.uX)(),(0,e.CE)("div",W,[(0,e.Lk)("h2",null,(0,o.v_)(R.product.title),1)])):(0,e.Q3)("",!0),(0,e.Lk)("div",I,[(0,e.Lk)("p",null,(0,o.v_)(R.product.description),1)])])])])])]),(0,e.Lk)("div",E,[(0,e.Lk)("div",N,[(0,e.Lk)("p",X,"每"+(0,o.v_)(R.product.unit),1),R.product.price!==R.product.origin_price?((0,e.uX)(),(0,e.CE)("p",S,[(0,e.eW)((0,o.v_)(R.product.price)+" 元 ",1),s[11]||(s[11]=(0,e.Lk)("i",{class:"bi bi-tag"},null,-1))])):(0,e.Q3)("",!0),(0,e.Lk)("p",P,[R.product.price!==R.product.origin_price?((0,e.uX)(),(0,e.CE)("del",_,"售價："+(0,o.v_)(R.product.origin_price)+" 元",1)):((0,e.uX)(),(0,e.CE)("span",$,(0,o.v_)(R.product.origin_price),1))]),(0,e.Lk)("div",F,[(0,e.Lk)("div",z,[(0,e.bo)((0,e.Lk)("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>R.qty=t),class:"form-select","aria-label":"Default select example",name:"",id:"itemQty"},[((0,e.uX)(),(0,e.CE)(e.FK,null,(0,e.pI)(20,t=>(0,e.Lk)("option",{key:t,value:t},(0,o.v_)(t),9,A)),64))],512),[[r.u1,R.qty]]),s[12]||(s[12]=(0,e.Lk)("label",{for:"itemQty"},"數量",-1))]),(0,e.Lk)("button",{type:"button",class:"btn btn-brown btn-flex fs-4",onClick:s[1]||(s[1]=s=>J.addToCart(t.$http,R.product.id,R.qty,"detail")),disabled:R.product.id===R.status.loadingItem},[R.cartPutIn?((0,e.uX)(),(0,e.CE)("div",U,[...s[14]||(s[14]=[(0,e.Lk)("i",{class:"bi bi-cart-check-fill"},null,-1)])])):((0,e.uX)(),(0,e.CE)("div",q,[...s[13]||(s[13]=[(0,e.Lk)("i",{class:"bi bi-cart"},null,-1)])])),s[15]||(s[15]=(0,e.Lk)("div",{style:{width:"122px"}},"加入購物車",-1))],8,T),s[16]||(s[16]=(0,e.Lk)("p",{class:"fs-6"},"購買且付款後最快３天出貨",-1)),s[17]||(s[17]=(0,e.Lk)("p",{class:"fs-6"},"購買後將會寄確認信至您的信箱，可選擇信用卡結帳或是銀行轉帳",-1))]),(0,e.Lk)("div",B,[(0,e.Lk)("div",Q,[-1===R.favorite.indexOf(R.product.id)?((0,e.uX)(),(0,e.CE)("button",{key:0,type:"button",class:"btn btn-flex border",onClick:s[2]||(s[2]=t=>J.editFavorite(R.product.id))},[...s[18]||(s[18]=[(0,e.Lk)("div",{style:{width:"16px"}},[(0,e.Lk)("i",{class:"bi bi-heart text-warning"})],-1),(0,e.Lk)("div",{style:{width:"68px"}},"加入追蹤",-1)])])):((0,e.uX)(),(0,e.CE)("button",{key:1,type:"button",class:"btn btn-flex border",onClick:s[3]||(s[3]=t=>J.editFavorite(R.product.id))},[(0,e.Lk)("div",{style:{width:"16px"},class:(0,o.C4)({heartAnimation:R.heart})},[...s[19]||(s[19]=[(0,e.Lk)("i",{class:"bi bi-heart-fill text-warning"},null,-1)])],2),s[20]||(s[20]=(0,e.Lk)("div",{style:{width:"70px"}},"已經追蹤",-1))]))]),(0,e.Lk)("div",K,[!1===R.copySuccess?((0,e.uX)(),(0,e.CE)("button",{key:0,type:"button",class:"btn border-0",onClick:s[4]||(s[4]=(...t)=>J.copyToClipBoard&&J.copyToClipBoard(...t))},[...s[21]||(s[21]=[(0,e.Lk)("i",{class:"bi bi-link-45deg"},null,-1),(0,e.eW)(" 分享商品 ",-1)])])):((0,e.uX)(),(0,e.CE)("button",{key:1,type:"button",class:"btn border-0",onClick:s[5]||(s[5]=(...t)=>J.copyToClipBoard&&J.copyToClipBoard(...t))},[...s[22]||(s[22]=[(0,e.Lk)("i",{class:"bi bi-check-lg text-success"},null,-1),(0,e.eW)(" 分享成功！ ",-1)])]))])])])]),(0,e.Lk)("div",M,[(0,e.Lk)("p",null,[s[23]||(s[23]=(0,e.Lk)("span",{class:"fs-4 fw-bold"},"商品注意事項：",-1)),s[24]||(s[24]=(0,e.Lk)("br",null,null,-1)),(0,e.eW)((0,o.v_)(R.product.content),1)]),s[25]||(s[25]=(0,e.Lk)("p",null,[(0,e.Lk)("span",{class:"fs-4 fw-bold"},"運送注意事項："),(0,e.Lk)("br"),(0,e.eW)("免運費"),(0,e.Lk)("br"),(0,e.eW)("運送僅限台澎金馬，恕不接受海外運送"),(0,e.Lk)("br"),(0,e.eW)("商品到貨後享十天猶豫期，欲退貨需保持商品全新狀態或包裝完整 ")],-1))]),(0,e.Lk)("div",O,[s[26]||(s[26]=(0,e.Lk)("span",{class:"fs-4 fw-bold"},"相關商品：",-1)),(0,e.bF)(Z,{sendProduct:R.product},null,8,["sendProduct"])])])])}i(4114),i(3110),i(8335);const R={class:"box-container"},J={key:0,class:"w-100 text-center fs-4 fw-bold"},V=["src","alt"];function Z(t,s,i,r,c,d){const l=(0,e.g2)("router-link");return(0,e.uX)(),(0,e.CE)("div",R,[0===c.num?((0,e.uX)(),(0,e.CE)("div",J,"Sorry...沒有相關商品")):((0,e.uX)(),(0,e.CE)(e.FK,{key:1},[c.x<0?((0,e.uX)(),(0,e.CE)("i",{key:0,class:"bi bi-arrow-left-square-fill icons-sm i-sm-l text-brown",onClick:s[0]||(s[0]=t=>d.moveList(!0))})):(0,e.Q3)("",!0),(0,e.Lk)("div",{class:"box mx-auto my-3",style:(0,o.Tr)(c.boxWidth)},[(0,e.Lk)("div",{class:"boxInside",ref:"ProductListBox",style:(0,o.Tr)(c.boxInsideWidth)},[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(c.ProductList,t=>((0,e.uX)(),(0,e.CE)("div",{class:"card border-0 m-2",key:t.id},[(0,e.bF)(l,{class:"no-underline",to:{name:"product",params:{productId:t.id}}},{default:(0,e.k6)(()=>[(0,e.Lk)("img",{src:t.imageUrl,alt:t.title,class:"card-img-top"},null,8,V)]),_:2},1032,["to"]),(0,e.bF)(l,{to:{name:"product",params:{productId:t.id}},class:"no-underline"},{default:(0,e.k6)(()=>[(0,e.eW)((0,o.v_)(t.title),1)]),_:2},1032,["to"])]))),128))],4)],4),c.x>c.step*(c.showNum-c.num)?((0,e.uX)(),(0,e.CE)("i",{key:1,class:"bi bi-arrow-right-square-fill icons-sm i-sm-r text-brown",onClick:s[1]||(s[1]=t=>d.moveList(!1))})):(0,e.Q3)("",!0)],64))])}i(8111),i(2489);var j=i(1510),G=i(5306),H={name:"RelatedProducts",data(){return{ProductList:[],boxWidth:{width:""},boxInsideWidth:{transform:"translate3d(0, 0, 0)",width:""},x:0,step:150,num:0,showNum:0,widthSize:""}},props:["sendProduct"],methods:{async getNewProducts(){try{const t=await(0,G.AS)(this.$http);this.ProductList=t,this.ProductList=this.ProductList.filter(t=>t.category===this.sendProduct.category&&t.id!==this.sendProduct.id).reverse();let s="",i="";this.num=this.ProductList.length,i=this.step*this.num,this.widthSize>=1200?(this.showNum=6,s=this.num>this.showNum?i/this.num*6:this.step*this.num):this.widthSize<=1199&&this.widthSize>=992?(this.showNum=5,s=this.num>this.showNum?i/this.num*5:this.step*this.num):this.widthSize<=991&&this.widthSize>=768?(this.showNum=3,s=this.num>this.showNum?i/this.num*3:this.step*this.num):this.widthSize<=767&&(this.showNum=1,s=this.num>this.showNum?i/this.num:this.step*this.num),this.boxInsideWidth.width=`${i}px`,this.boxWidth.width=`${s}px`}catch(t){this.$InformMessage(t,"取得商品")}},moveList(t){if(!0===t){if(0===this.x)return!1;this.x+=this.step,this.boxInsideWidth.transform=`translate3d(${this.x}px, 0, 0)`}else if(!1===t){if(this.x<=this.step*(this.showNum-this.num))return!1;this.x-=this.step,this.boxInsideWidth.transform=`translate3d(${this.x}px, 0, 0)`}}},watch:{sendProduct:{handler(t){t&&t.id&&this.getNewProducts()},immediate:!0,deep:!1},widthSize(t,s){if(s){this.num=this.ProductList.length;const i=this.$refs.ProductListBox;let e;t>=1200&&s<1200?(this.x=0,this.boxInsideWidth.transform="translate3d(0, 0, 0)",this.showNum=6,e=this.num>this.showNum?i.clientWidth/this.num*6:this.step*this.num):t<=1199&&t>=992&&(s<992||s>1199)?(this.x=0,this.boxInsideWidth.transform="translate3d(0, 0, 0)",this.showNum=5,e=this.num>this.showNum?i.clientWidth/this.num*5:this.step*this.num):t<=991&&t>=768&&(s<768||s>991)?(this.x=0,this.boxInsideWidth.transform="translate3d(0, 0, 0)",this.showNum=3,e=this.num>this.showNum?i.clientWidth/this.num*3:this.step*this.num):t<=767&&s>767&&(this.x=0,this.boxInsideWidth.transform="translate3d(0, 0, 0)",this.showNum=1,e=this.num>this.showNum?i.clientWidth/this.num:this.step*this.num),this.boxWidth.width=`${Math.floor(e)}px`}}},mounted(){const{width:t}=(0,j.lWr)();this.widthSize=t}},Y=i(1241);const tt=(0,Y.A)(H,[["render",Z]]);var st=tt,it={name:"ProductDetail",head(){return{title:`${this.product.title} - 咖啡因商店`,meta:[{name:"description",content:`${this.product.title}：${this.product.description}`},{name:"keywords",content:"咖啡因商店,咖啡豆,濾掛式咖啡,茶葉,茶包,甜點"},{property:"og:title",content:"咖啡因商店"},{property:"og:image",content:`${this.product.imageUrl}`},{property:"og:description",content:`${this.product.title}：${this.product.description}`}]}},data(){return{product:{},id:"",active:!1,num:0,imgArray:[],qty:1,status:{loadingItem:""},widthSize:"",favorite:JSON.parse(localStorage.getItem("favoriteList"))||[],copy:"",copySuccess:!1,copied:!1,cartPutIn:!1,heart:!1}},components:{RelatedProducts:st},methods:{async productInfo(){try{const t=await(0,G.oo)(this.$http,this.id);t.data.success?(this.product=t.data.product,this.product.imagesUrl?this.imgArray=[].concat(this.product.imageUrl,this.product.imagesUrl):this.product.imagesUrl||(this.imgArray=[].concat(this.product.imageUrl),this.num=0)):t.data.success||this.$router.replace({name:"NotFound"})}catch(t){return this.$router.replace({name:"NotFound"})}},addToCart:G.bE,editFavorite(t){const s=this.favorite.indexOf(t);-1===s?(this.heart=!0,this.favorite.push(t)):(this.heart=!1,this.favorite.splice(s,1)),localStorage.setItem("favoriteList",JSON.stringify(this.favorite))},async copyToClipBoard(){try{await this._copy(window.location.href),this.copySuccess=!0,this.copied=!0,setTimeout(()=>{this.copied=!1},1500)}catch(t){alert("不好意思，您的瀏覽器可能不支援此功能！請手動複製")}}},watch:{"$route.params.productId":{handler(t,s){this.id=t,this.productInfo()}}},created(){this.id=this.$route.params.productId,this.productInfo();const{width:t}=(0,j.lWr)();this.widthSize=t},mounted(){const{copy:t,copied:s}=(0,j.iDZ)();this._copy=t,this._copiedRef=s}};const et=(0,Y.A)(it,[["render",D]]);var ot=et}}]);
//# sourceMappingURL=570.45617370.js.map