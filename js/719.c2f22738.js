"use strict";(self["webpackChunkcaffeineshop"]=self["webpackChunkcaffeineshop"]||[]).push([[719],{1874:function(t,s,i){i.d(s,{b:function(){return o}});var e=i(1600);function o(t,s,i){if(!0===i){const s=this.favorite.indexOf(t);this.favorite.splice(s,1),localStorage.setItem("favoriteList",JSON.stringify(this.favorite))}const o="https://vue3-course-api.hexschool.io/api/caffeineshop/cart";this.status.loadingItem=t;const r={product_id:t,qty:s};this.$http.post(o,{data:r}).then(t=>{this.status.loadingItem="",console.log(t.data),this.$InformMessage(t,"商品放入購物車"),e.A.emit("updateCart")}).catch(t=>{this.status.loadingItem="",this.$InformMessage(t,"商品放入購物車")})}},9719:function(t,s,i){i.r(s),i.d(s,{default:function(){return et}});var e=i(6768),o=i(4232),r=i(5130);const d={class:"container"},c={class:"row"},a={class:"col-12"},l={class:"mt-4 mb-4"},n={key:0},u={key:1},h={key:2},p={class:"col-lg-9 col-md-8 col-sm-12 col-xs-12 p-3"},m={class:"container"},f={class:"row"},k={key:0,class:"col-sm-12 col-12 pb-3"},v={class:"col-lg-5 col-md-12"},b={class:"p-2 sqLarge"},g=["src"],L={class:"d-flex p-2"},x=["onMouseover"],w=["src"],y={class:"col-lg-7 col-md-12"},C={class:"d-flex flex-column"},W={key:0,class:"pb-4"},I={class:"pt-4 border-top"},N={class:"col-lg-3 col-md-4 col-sm-12 col-xs-12"},P={class:"border p-3"},E={class:"fs-3"},S={key:0,class:"fs-3 fw-bold text-success"},X={class:"fs-3"},_={key:0,class:"text-secondary fs-6"},$={key:1,class:"fw-bold"},z={class:"d-grid gap-2 col-12 mx-auto",style:{padding:"20px 0"}},F={class:"form-floating"},q=["value"],A=["disabled"],Q={class:"text-center"},U={class:"btn-group w-100"},M={key:0,type:"button",class:"btn border"},O={key:1,type:"button",class:"btn border"},K={class:"col-lg-12 col-md-12 col-sm-12 col-xs-12 col-12 p-3 pb-5"},T={class:"col-lg-12 col-md-12 col-sm-12 col-xs-12 col-12 p-3 pb-5"};function J(t,s,i,J,B,D){const R=(0,e.g2)("router-link"),V=(0,e.g2)("related-products");return(0,e.uX)(),(0,e.CE)("div",d,[(0,e.Lk)("div",c,[(0,e.Lk)("div",a,[(0,e.Lk)("div",l,[(0,e.bF)(R,{to:"/",style:{"text-decoration":"none"}},{default:(0,e.k6)(()=>[...s[4]||(s[4]=[(0,e.eW)("首頁",-1)])]),_:1}),s[6]||(s[6]=(0,e.eW)(" > ",-1)),(0,e.bF)(R,{to:"/shopping",style:{"text-decoration":"none"}},{default:(0,e.k6)(()=>[...s[5]||(s[5]=[(0,e.eW)("線上商店",-1)])]),_:1}),s[7]||(s[7]=(0,e.eW)(" > ",-1)),"咖啡豆"===B.product.category?((0,e.uX)(),(0,e.CE)("span",n,"咖啡")):"罐裝茶"===B.product.category?((0,e.uX)(),(0,e.CE)("span",u,"茶")):((0,e.uX)(),(0,e.CE)("span",h,"其他")),s[8]||(s[8]=(0,e.eW)(" > ",-1)),(0,e.Lk)("span",null,(0,o.v_)(B.product.category),1)])]),(0,e.Lk)("div",p,[(0,e.Lk)("div",m,[(0,e.Lk)("div",f,[B.widthSize<=991?((0,e.uX)(),(0,e.CE)("div",k,[(0,e.Lk)("h2",null,(0,o.v_)(B.product.title),1)])):(0,e.Q3)("",!0),(0,e.Lk)("div",v,[(0,e.Lk)("div",b,[(0,e.Lk)("div",null,[(0,e.Lk)("img",{class:"img-fluid",src:B.imgArray[B.num],alt:""},null,8,g)])]),(0,e.Lk)("div",L,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(B.imgArray,(t,s)=>((0,e.uX)(),(0,e.CE)("div",{class:(0,o.C4)(["w-25 sqSmall m-1",{"hover-focus":B.num===s}]),key:s,onMouseover:t=>B.num=s},[(0,e.Lk)("div",null,[(0,e.Lk)("img",{class:"img-fluid",src:B.imgArray[s],alt:""},null,8,w)])],42,x))),128))])]),(0,e.Lk)("div",y,[(0,e.Lk)("div",C,[B.widthSize>=992?((0,e.uX)(),(0,e.CE)("div",W,[(0,e.Lk)("h2",null,(0,o.v_)(B.product.title),1)])):(0,e.Q3)("",!0),(0,e.Lk)("div",I,[(0,e.Lk)("p",null,(0,o.v_)(B.product.description),1)])])])])])]),(0,e.Lk)("div",N,[(0,e.Lk)("div",P,[(0,e.Lk)("p",E,"每"+(0,o.v_)(B.product.unit),1),B.product.price!==B.product.origin_price?((0,e.uX)(),(0,e.CE)("p",S,(0,o.v_)(B.product.price)+" 元 ",1)):(0,e.Q3)("",!0),(0,e.Lk)("p",X,[B.product.price!==B.product.origin_price?((0,e.uX)(),(0,e.CE)("del",_,"售價："+(0,o.v_)(B.product.origin_price)+" 元",1)):((0,e.uX)(),(0,e.CE)("span",$,(0,o.v_)(B.product.origin_price),1))]),(0,e.Lk)("div",z,[(0,e.Lk)("div",F,[(0,e.bo)((0,e.Lk)("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>B.qty=t),class:"form-select","aria-label":"Default select example",name:"",id:"itemQty"},[((0,e.uX)(),(0,e.CE)(e.FK,null,(0,e.pI)(10,t=>(0,e.Lk)("option",{key:t,value:t},(0,o.v_)(t),9,q)),64))],512),[[r.u1,B.qty]]),s[9]||(s[9]=(0,e.Lk)("label",{for:"itemQty"},"數量",-1))]),(0,e.Lk)("button",{type:"button",class:"btn btn-brown fs-4",onClick:s[1]||(s[1]=t=>D.addToCart(B.product.id,B.qty)),disabled:B.product.id===B.status.loadingItem},[...s[10]||(s[10]=[(0,e.Lk)("i",{class:"bi bi-cart3"},null,-1),(0,e.eW)(" 加入購物車",-1)])],8,A),s[11]||(s[11]=(0,e.Lk)("p",{class:"fs-6"},"購買且付款後最快３天出貨",-1)),s[12]||(s[12]=(0,e.Lk)("p",{class:"fs-6"},"購買後將會寄確認信至您的信箱，可選擇信用卡結帳或是銀行轉帳",-1))]),(0,e.Lk)("div",Q,[(0,e.Lk)("div",U,[-1===B.favorite.indexOf(B.product.id)?((0,e.uX)(),(0,e.CE)("button",M,[(0,e.Lk)("i",{class:"bi bi-heart text-warning",onClick:s[2]||(s[2]=t=>D.editFavorite(B.product.id))}),s[13]||(s[13]=(0,e.eW)(" 加入追蹤",-1))])):((0,e.uX)(),(0,e.CE)("button",O,[(0,e.Lk)("i",{class:"bi bi-heart-fill text-warning",onClick:s[3]||(s[3]=t=>D.editFavorite(B.product.id))}),s[14]||(s[14]=(0,e.eW)(" 已追蹤",-1))]))])])])]),(0,e.Lk)("div",K,[(0,e.Lk)("p",null,[s[15]||(s[15]=(0,e.Lk)("span",{class:"fs-4 fw-bold"},"商品注意事項：",-1)),s[16]||(s[16]=(0,e.Lk)("br",null,null,-1)),(0,e.eW)((0,o.v_)(B.product.content),1)]),s[17]||(s[17]=(0,e.Lk)("p",null,[(0,e.Lk)("span",{class:"fs-4 fw-bold"},"運送注意事項："),(0,e.Lk)("br"),(0,e.eW)("免運費"),(0,e.Lk)("br"),(0,e.eW)("運送僅限台澎金馬，恕不接受海外運送"),(0,e.Lk)("br"),(0,e.eW)("商品到貨後享十天猶豫期，欲退貨需保持商品全新狀態或包裝完整")],-1))]),(0,e.Lk)("div",T,[s[18]||(s[18]=(0,e.Lk)("span",{class:"fs-4 fw-bold"},"相關商品：",-1)),(0,e.bF)(V,{sendProduct:B.product},null,8,["sendProduct"])])])])}i(4114);const B={class:"box-container"},D={key:0,class:"w-100 text-center fs-4 fw-bold"},R=["src"];function V(t,s,i,r,d,c){const a=(0,e.g2)("router-link");return(0,e.uX)(),(0,e.CE)("div",B,[0===d.num?((0,e.uX)(),(0,e.CE)("div",D," Sorry...沒有相關商品 ")):((0,e.uX)(),(0,e.CE)(e.FK,{key:1},[d.x<0?((0,e.uX)(),(0,e.CE)("i",{key:0,class:"bi bi-arrow-left-square-fill icons i-l text-brown",onClick:s[0]||(s[0]=t=>c.moveList(!0))})):(0,e.Q3)("",!0),(0,e.Lk)("div",{class:"box mx-auto my-3",style:(0,o.Tr)(d.boxWidth)},[(0,e.Lk)("div",{class:"boxInside",ref:"ProductListBox",style:(0,o.Tr)(d.boxInsideWidth)},[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(d.ProductList,t=>((0,e.uX)(),(0,e.CE)("div",{class:"card border-0 m-2",key:t.id},[(0,e.bF)(a,{class:"no-underline",to:{name:"product",params:{productId:t.id}}},{default:(0,e.k6)(()=>[(0,e.Lk)("img",{src:t.imageUrl,alt:"",class:"card-img-top"},null,8,R)]),_:2},1032,["to"]),(0,e.bF)(a,{to:{name:"product",params:{productId:t.id}},class:"no-underline"},{default:(0,e.k6)(()=>[(0,e.eW)((0,o.v_)(t.title),1)]),_:2},1032,["to"])]))),128))],4)],4),d.x>d.step*(d.showNum-d.num)?((0,e.uX)(),(0,e.CE)("i",{key:1,class:"bi bi-arrow-right-square-fill icons i-r text-brown",onClick:s[1]||(s[1]=t=>c.moveList(!1))})):(0,e.Q3)("",!0)],64))])}i(8111),i(2489);var j=i(1510),G={name:"RelatedProducts",data(){return{ProductList:[],boxWidth:{width:""},boxInsideWidth:{transform:"translate3d(0, 0, 0)",width:""},x:0,step:150,num:0,showNum:0,widthSize:""}},props:["sendProduct"],methods:{getNewProducts(){const t="https://vue3-course-api.hexschool.io/api/caffeineshop/products/all";this.$http.get(t).then(t=>{this.ProductList=t.data.products,this.ProductList=this.ProductList.filter(t=>t.category===this.sendProduct.category&&t.id!==this.sendProduct.id).reverse();let s="",i="";this.num=this.ProductList.length,i=this.step*this.num,this.widthSize>=1200?(this.showNum=5,s=this.num>this.showNum?i/this.num*5:this.step*this.num):this.widthSize<=1199&&this.widthSize>=992?(this.showNum=4,s=this.num>this.showNum?i/this.num*4:this.step*this.num):this.widthSize<=991&&this.widthSize>=768?(this.showNum=3,s=this.num>this.showNum?i/this.num*3:this.step*this.num):this.widthSize<=767&&(this.showNum=1,s=this.num>this.showNum?i/this.num*1:this.step*this.num),this.boxInsideWidth.width=`${i}px`,this.boxWidth.width=`${s}px`})},moveList(t){if(!0===t){if(0===this.x)return!1;this.x+=this.step,this.boxInsideWidth.transform=`translate3d(${this.x}px, 0, 0)`}else if(!1===t){if(this.x<=this.step*(this.showNum-this.num))return!1;this.x-=this.step,this.boxInsideWidth.transform=`translate3d(${this.x}px, 0, 0)`}}},watch:{sendProduct:{handler(t){t&&t.id&&this.getNewProducts()},immediate:!0,deep:!1},widthSize(t,s){if(s){this.num=this.ProductList.length;const i=this.$refs.ProductListBox;let e;t>=1200&&s<1200?(this.x=0,this.boxInsideWidth.transform="translate3d(0, 0, 0)",this.showNum=5,e=this.num>this.showNum?i.clientWidth/this.num*5:this.step*this.num):t<=1199&&t>=992&&(s<992||s>1199)?(this.x=0,this.boxInsideWidth.transform="translate3d(0, 0, 0)",this.showNum=4,e=this.num>this.showNum?i.clientWidth/this.num*4:this.step*this.num):t<=991&&t>=768&&(s<768||s>991)?(this.x=0,this.boxInsideWidth.transform="translate3d(0, 0, 0)",this.showNum=3,e=this.num>this.showNum?i.clientWidth/this.num*3:this.step*this.num):t<=767&&s>767&&(this.x=0,this.boxInsideWidth.transform="translate3d(0, 0, 0)",this.showNum=1,e=i.clientWidth/this.num),this.boxWidth.width=`${Math.floor(e)}px`}}},mounted(){const{width:t}=(0,j.lWr)();this.widthSize=t}},H=i(1241);const Y=(0,H.A)(G,[["render",V]]);var Z=Y,tt=i(1874),st={name:"ProductDetail",data(){return{product:{},id:"",active:!1,num:0,imgArray:[],qty:1,status:{loadingItem:""},widthSize:"",favorite:JSON.parse(localStorage.getItem("favoriteList"))||[]}},components:{RelatedProducts:Z},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/caffeineshop/product/${this.id}`;this.$http.get(t).then(t=>{this.product=t.data.product,this.product.imagesUrl?this.imgArray=[].concat(this.product.imageUrl,this.product.imagesUrl):this.product.imagesUrl||(this.imgArray=[].concat(this.product.imageUrl)),this.num=0}).catch(t=>{this.$InformMessage(t,"取得商品資訊")})},addToCart:tt.b,editFavorite(t){const s=this.favorite.indexOf(t);-1===s?this.favorite.push(t):this.favorite.splice(s,1),localStorage.setItem("favoriteList",JSON.stringify(this.favorite))}},watch:{"$route.params.productId":{handler(t,s){this.id=t,this.getProduct()}}},created(){this.id=this.$route.params.productId,this.getProduct();const{width:t}=(0,j.lWr)();this.widthSize=t}};const it=(0,H.A)(st,[["render",J]]);var et=it}}]);
//# sourceMappingURL=719.c2f22738.js.map