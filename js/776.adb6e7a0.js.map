{"version":3,"file":"js/776.adb6e7a0.js","mappings":"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","sources":["webpack://caffeineshop/./src/methods/api.js","webpack://caffeineshop/./src/views/front/FollowList.vue","webpack://caffeineshop/./src/views/front/FollowList.vue?5191"],"sourcesContent":["import emitter from '@/methods/emitter'\r\n\r\n// 取得全部商品\r\nexport async function getAllProducts(http) {\r\n  const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n  try {\r\n    const res = await http.get(api)\r\n    return res.data.products\r\n  } catch (err) {\r\n    const error = new Error('取得產品列表')\r\n    error.original = error\r\n  }\r\n}\r\n\r\n// 取得商品資訊\r\nexport async function getProduct(http, id) {\r\n  try {\r\n    const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${id}`\r\n    const res = await http.get(api)\r\n    return res\r\n  } catch (err) {\r\n    throw new Error('無法取得商品')\r\n  }\r\n}\r\n\r\n// 取得購物車資訊\r\nexport async function getCart(from) {\r\n  const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n  try {\r\n    const res = await this.$http.get(url)\r\n    const cart = res.data.data\r\n    this.cart = cart\r\n    if (this.cart.carts[0]?.coupon?.code) this.usedCoupon = this.cart.carts[0].coupon.code\r\n    this.num = cart.carts.length\r\n    if (from === 'check') {\r\n      this.$emit('sendCart', this.cart)\r\n    } else if (from === 'cart') {\r\n      this.$emit('updateNum', this.num)\r\n      return this.cart.carts.length\r\n    }\r\n  } catch (err) {\r\n    console.log(err)\r\n    this.$InformMessage(err, '取得購物車資訊')\r\n    if (from === 'cart') this.err = true\r\n  }\r\n}\r\n\r\n// 將商品放入購物車\r\nexport async function addToCart(http, id, num, from, i) {\r\n  const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n  if (from === 'detail') {\r\n    if (this.cartPutIn) this.cartPutIn = !this.cartPutIn\r\n  }\r\n  if (from === 'list') this.status.loadingItem = id\r\n  const cart = {\r\n    product_id: id,\r\n    qty: num\r\n  }\r\n  try {\r\n    const res = await http.post(api, { data: cart })\r\n    console.log(res)\r\n    if (from === 'list') {\r\n      this.cart = i\r\n    } else if (from === 'detail') {\r\n      this.cartPutIn = true\r\n    }\r\n    if (from !== 'follow' && from !== 'cart') {\r\n      this.status.loadingItem = ''\r\n      this.$InformMessage(res, '商品放入購物車')\r\n    } else if (from === 'follow' || from === 'cart') {\r\n      return res\r\n    }\r\n    emitter.emit('updateCart')\r\n  } catch (err) {\r\n    if (from !== 'follow') {\r\n      this.status.loadingItem = ''\r\n      this.$InformMessage(err, '商品放入購物車')\r\n    } else if (from === 'follow') {\r\n      const error = new Error('商品放入購物車')\r\n      error.original = error\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\n// 更新商品在購物車數量\r\nexport async function updateCart(item, from) {\r\n  try {\r\n    this.status.loadingItem = item.id\r\n    const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\r\n    const cart = {\r\n      product_id: item.product_id,\r\n      qty: item.qty\r\n    }\r\n    await this.$http.put(url, { data: cart })\r\n    this.status.loadingItem = ''\r\n    this.getCart(from)\r\n  } catch (err) {\r\n    this.status.loadingItem = ''\r\n    this.$InformMessage(err, '購物車更新')\r\n  }\r\n}\r\n\r\n// 刪除購物車內商品\r\nexport async function deleteCartItem(id, from) {\r\n  try {\r\n    this.status.loadingItem = id\r\n    const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n    await this.$http.delete(url, { data: id })\r\n    this.status.loadingItem = ''\r\n    this.getCart(from)\r\n  } catch (err) {\r\n    this.status.loadingItem = ''\r\n    this.$InformMessage(err, '商品刪除')\r\n  }\r\n}\r\n\r\n// 加入優惠券\r\nexport async function addCouponCode(couponCode, http) {\r\n  try {\r\n    const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n    const coupon = {\r\n      code: couponCode\r\n    }\r\n    const res = await http.post(url, { data: coupon })\r\n    return res\r\n  } catch (err) {\r\n    throw new Error(err)\r\n  }\r\n}\r\n\r\n// 成立訂單\r\nexport async function createOrder() {\r\n  const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\r\n  const order = this.form\r\n  try {\r\n    const res = await this.$http.post(url, { data: order })\r\n    this.orderId = res.data.orderId\r\n  } catch (err) {\r\n    this.$InformMessage(err, '送出訂單')\r\n  }\r\n}\r\n\r\n// 取得單筆訂單\r\nexport async function getOrder(id, from) {\r\n  this.isLoading = true\r\n  if (from === 'orderlist') {\r\n    this.pageShow = false\r\n    this.searchResult = []\r\n    this.notFound = false\r\n    this.connectError = false\r\n  }\r\n  const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${id}`\r\n  try {\r\n    const res = await this.$http.get(url)\r\n    this.isLoading = false\r\n    if (from === 'orderlist') {\r\n      if (res.data.order !== null) {\r\n        this.searchResult.push(res.data.order)\r\n      } else {\r\n        this.notFound = true\r\n      }\r\n    } else if (from === 'orderdetail') {\r\n      this.order = res.data.order\r\n      this.user = res.data.order.user\r\n      Object.values(this.order.products).forEach((item, i) => {\r\n        this.total += item.total\r\n      })\r\n    }\r\n  } catch (err) {\r\n    this.isLoading = false\r\n    this.notFound = true\r\n  }\r\n}\r\n\r\n// 取得全部訂單\r\nexport async function getOrderAll(page = 1) {\r\n  this.pageShow = true\r\n  this.isLoading = true\r\n  if (this.notFound === true) this.notFound = false\r\n  const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/orders?page=${page}`\r\n  try {\r\n    const res = await this.$http.get(url)\r\n    this.isLoading = false\r\n    if (res.data.success) {\r\n      this.searchResult = res.data.orders\r\n      this.pagination = res.data.pagination\r\n    }\r\n  } catch (err) {\r\n    this.isLoading = false\r\n    this.$InformMessage(err, '取得訂單列表')\r\n  }\r\n}\r\n\r\n// 付款\r\nexport async function checkOut(id, http) {\r\n  const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${id}`\r\n  try {\r\n    await http.post(url)\r\n  } catch (err) {\r\n    throw new Error(err, '付款')\r\n  }\r\n}\r\n\r\n// 後台登入\r\nexport async function signIn() {\r\n  const url = `${process.env.VUE_APP_API}admin/signin`\r\n  try {\r\n    const res = await this.$http.post(url, this.user)\r\n    if (res.data.success) {\r\n      const { token, expired } = res.data\r\n      this.$InformMessage(res, '登入')\r\n      document.cookie = `makotoToken=${token}; expires=${expired}`\r\n      setTimeout(() => {\r\n        this.$router.push('/dashboard/productlist')\r\n      }, 3000)\r\n    }\r\n  } catch (err) {\r\n    this.$InformMessage(err, '登入')\r\n  }\r\n}\r\n\r\n// 取得後台商品列表\r\nexport async function adminGetProducts(page = 1) {\r\n  const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/?page=${page}`\r\n  this.isLoading = true\r\n  try {\r\n    const res = await this.$http.get(api)\r\n    this.isLoading = false\r\n    if (res.data.success) {\r\n      this.products = res.data.products\r\n      this.pagination = res.data.pagination\r\n    }\r\n  } catch (err) {\r\n    this.$InformMessage(err, '取得頁面資訊')\r\n  }\r\n}\r\n\r\n// 後台更新商品資訊\r\nexport async function adminUpdateProduct(item) {\r\n  this.tempProduct = item\r\n  let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`\r\n  let httpMethod = 'post'\r\n  if (!this.isNew) {\r\n    api = `${api}/${item.id}`\r\n    httpMethod = 'put'\r\n  }\r\n  try {\r\n    const res = await this.$http[httpMethod](api, { data: this.tempProduct })\r\n    if (res.data.success) {\r\n      httpMethod === 'post'\r\n        ? this.$InformMessage(res, '商品新增')\r\n        : this.$InformMessage(res, '商品更新')\r\n      this.getProducts(this.pagination.current_page)\r\n    }\r\n    this.$refs.productModal.hideModal()\r\n  } catch (err) {\r\n    this.$InformMessage(err, '商品更新')\r\n  }\r\n}\r\n\r\n// 後台圖片上傳\r\nexport async function uploadFile(upImg) {\r\n  try {\r\n    const uploadFile = this.$refs[upImg].files[0]\r\n    const formData = new FormData()\r\n    formData.append('file-to-upload', uploadFile)\r\n    const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`\r\n    const res = await this.$http.post(url, formData)\r\n    if (res.data.success) {\r\n      upImg === 'fileInput'\r\n        ? (this.tempProduct.imageUrl = res.data.imageUrl)\r\n        : this.tempProduct.imagesUrl.push(res.data.imageUrl)\r\n    }\r\n  } catch (err) {\r\n    this.$InformMessage(err, '圖片上傳')\r\n  }\r\n}\r\n\r\n// 後台刪除商品\r\nexport async function adminDelProduct(item) {\r\n  this.tempProduct = item\r\n  const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`\r\n  try {\r\n    const res = await this.$http.delete(api, { data: this.tempProduct })\r\n    this.$InformMessage(res, `商品${item.title}刪除`)\r\n    this.getProducts()\r\n  } catch (err) {\r\n    this.$InformMessage(err, '商品刪除')\r\n  }\r\n  this.$refs.delModal.hideModal()\r\n}\r\n\r\n// 後台取得優惠券列表\r\nexport async function getCoupons(page = 1) {\r\n  try {\r\n    this.isLoading = true\r\n    const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/coupons?page=${page}`\r\n    const res = await this.$http.get(url)\r\n    console.log(res)\r\n    this.coupons = res.data.coupons\r\n    this.pagination = res.data.pagination\r\n    this.isLoading = false\r\n  } catch (err) {\r\n    this.isLoading = false\r\n    this.$InformMessage(err, '取得優惠券列表')\r\n  }\r\n}\r\n\r\n// 後台更新優惠券\r\nexport async function updateCoupon(tempCoupon) {\r\n  try {\r\n    this.tempCoupon = tempCoupon\r\n    let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/coupon`\r\n    let httpMethod = 'post'\r\n    if (!this.isNew) {\r\n      api = `${api}/${tempCoupon.id}`\r\n      httpMethod = 'put'\r\n    }\r\n    const res = await this.$http[httpMethod](api, { data: this.tempCoupon })\r\n    httpMethod === 'post'\r\n      ? this.$InformMessage(res, '優惠券新增')\r\n      : this.$InformMessage(res, '優惠券更新')\r\n    this.$refs.couponModal.hideModal()\r\n    this.getCoupons(this.pagination.current_page)\r\n  } catch (err) {\r\n    this.$refs.couponModal.hideModal()\r\n    this.$InformMessage(err, '更新優惠券')\r\n  }\r\n}\r\n\r\n// 後台刪除優惠券\r\nexport async function delCoupon(tempCoupon) {\r\n  try {\r\n    this.tempCoupon = tempCoupon\r\n    const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/coupon/${this.tempCoupon.id}`\r\n    const res = await this.$http.delete(api, { data: this.tempCoupon })\r\n    this.$InformMessage(res, `優惠券${tempCoupon.title}刪除`)\r\n    this.$refs.delModal.hideModal()\r\n    this.getCoupons()\r\n  } catch (err) {\r\n    this.$refs.delModal.hideModal()\r\n    this.$InformMessage(err, '優惠券刪除')\r\n  }\r\n}\r\n\r\n// 後台取得訂單列表\r\nexport async function getOrderList(page = 1) {\r\n  const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`\r\n  this.isLoading = true\r\n  try {\r\n    const res = await this.$http.get(api)\r\n    this.isLoading = false\r\n    this.orderList = res.data.orders\r\n    this.pagination = res.data.pagination\r\n  } catch (err) {\r\n    this.$InformMessage(err, '取得訂單列表')\r\n  }\r\n}\r\n\r\n// 後台更新訂單\r\nexport async function updateOrder(item) {\r\n  this.tempOrder = item\r\n  const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`\r\n  try {\r\n    await this.$http.put(api, { data: this.tempOrder })\r\n    this.$refs.orderModal.hideModal()\r\n    this.num = 0\r\n    this.getOrderList(this.pagination.current_page)\r\n  } catch (err) {\r\n    this.$InformMessage(err, '訂單更新')\r\n  }\r\n}\r\n\r\n// 後台刪除訂單\r\nexport async function delOrder(item) {\r\n  this.tempOrder = item\r\n  const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`\r\n  try {\r\n    const res = await this.$http.delete(api, { data: this.tempOrder })\r\n    this.$InformMessage(res, '訂單刪除')\r\n    this.$refs.delModal.hideModal()\r\n    this.getOrderList()\r\n  } catch (err) {\r\n    this.$InformMessage(err, '訂單刪除')\r\n  }\r\n}\r\n","<template>\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <div class=\"mt-4 mb-4\">\r\n          <router-link to=\"/\" style=\"text-decoration: none\">首頁</router-link> >\r\n          <span>追蹤清單</span>\r\n        </div>\r\n        <h1>追蹤清單</h1>\r\n        <div class=\"container\">\r\n          <div class=\"row\" v-if=\"length === 0\">\r\n            <div class=\"col-12 text-center\">\r\n              <span class=\"fs-3 fw-bold\">{{ this.word }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"row pb-5\" v-else>\r\n            <div\r\n              class=\"col-lg-3 col-md-4 col-sm-6 col-12 px-1 py-2\"\r\n              v-for=\"(item, i) in filterData\"\r\n              :key=\"i\"\r\n              :class=\"{ fadeOut: this.num === i }\"\r\n            >\r\n              <div class=\"card w-100 h-100 border\">\r\n                <div class=\"pt-2 px-2 text-end\">\r\n                  <button\r\n                    class=\"btn btn-outline-danger btn-sm\"\r\n                    type=\"button\"\r\n                    @click.prevent=\"deleteFavorite(item.id, i)\"\r\n                    :disabled=\"num !== i && num !== ''\"\r\n                  >\r\n                    <i class=\"bi bi-x-lg\"></i>\r\n                  </button>\r\n                </div>\r\n                <div class=\"p-2\">\r\n                  <img :src=\"filterData[i].imageUrl\" class=\"img-fluid\" :alt=\"item.title\" />\r\n                </div>\r\n                <div class=\"p-2 card-body d-flex flex-wrap flex-column justify-content-between\">\r\n                  <p class=\"card-text fw-bold\">{{ item.title }}</p>\r\n                  <div class=\"w-100\">\r\n                    <button\r\n                      class=\"d-block btn btn-outline-brown w-100\"\r\n                      type=\"button\"\r\n                      @click=\"addProduct(item.id, i, 'follow')\"\r\n                      :disabled=\"num !== i && num !== ''\"\r\n                    >\r\n                      <i class=\"bi bi-cart3\"></i> 加入購物車\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getAllProducts, addToCart } from '@/methods/api'\r\n\r\nexport default {\r\n  name: 'FollowList',\r\n  head() {\r\n    return {\r\n      title: '追蹤清單 - 咖啡因商店',\r\n      meta: [\r\n        { name: 'description', content: '一間販賣咖啡因商品的網路店鋪' },\r\n        { name: 'keywords', content: '咖啡因商店,咖啡豆,濾掛式咖啡,茶葉,茶包,甜點' },\r\n        { property: 'og:title', content: '咖啡因商店' },\r\n        { property: 'og:image', content: '../../assets/logo/logo.png' },\r\n        { property: 'og:description', content: '一間販賣咖啡因商品的網路店鋪' }\r\n      ]\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      productList: [],\r\n      length: 0,\r\n      status: {\r\n        loadingItem: ''\r\n      },\r\n      favorite: JSON.parse(localStorage.getItem('favoriteList')) || [],\r\n      word: '追蹤清單載入中...',\r\n      num: ''\r\n    }\r\n  },\r\n  methods: {\r\n    async allProducts() {\r\n      try {\r\n        const products = await getAllProducts(this.$http)\r\n        this.productList = products\r\n      } catch (err) {\r\n        this.$InformMessage(err, '取得商品')\r\n      }\r\n    },\r\n    deleteFavorite(id, i) {\r\n      const favoriteId = this.favorite.indexOf(id)\r\n      this.num = i\r\n      setTimeout(() => {\r\n        this.num = ''\r\n        this.favorite.splice(favoriteId, 1)\r\n        localStorage.setItem('favoriteList', JSON.stringify(this.favorite))\r\n      }, 500)\r\n    },\r\n    async addProduct(id, i, from) {\r\n      const favoriteId = this.favorite.indexOf(id)\r\n      this.num = i\r\n      await new Promise((resolve) => setTimeout(resolve, 1000))\r\n      this.num = ''\r\n      this.favorite.splice(favoriteId, 1)\r\n      localStorage.setItem('favoriteList', JSON.stringify(this.favorite))\r\n      try {\r\n        const res = await addToCart(this.$http, id, 1, from)\r\n        this.$InformMessage(res, '商品放入購物車')\r\n      } catch (err) {\r\n        this.$InformMessage(err.message)\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    filterData() {\r\n      const result = []\r\n      const num = this.favorite.length\r\n      this.productList.forEach((item) => {\r\n        for (let i = 0; i < num; i++) {\r\n          if (item.id === this.favorite[i]) result.push(item)\r\n        }\r\n      })\r\n      return result\r\n    }\r\n  },\r\n  watch: {\r\n    filterData(newNum, oldNum) {\r\n      this.length = newNum.length\r\n      if (newNum.length === 0) this.word = '沒有追蹤商品哦...要不要加一點進來呢'\r\n    }\r\n  },\r\n  created() {\r\n    this.allProducts()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.fadeOut {\r\n  transition: opacity 0.5s ease;\r\n  opacity: 0;\r\n}\r\n@media (max-width: 767px) {\r\n  .table-rwd tr {\r\n    border-bottom: 1px #b7b7b7 solid;\r\n  }\r\n  .table-rwd .td-rwd {\r\n    padding-top: 20px;\r\n    display: block;\r\n    border: none;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./FollowList.vue?vue&type=template&id=df61bdac\"\nimport script from \"./FollowList.vue?vue&type=script&lang=js\"\nexport * from \"./FollowList.vue?vue&type=script&lang=js\"\n\nimport \"./FollowList.vue?vue&type=style&index=0&id=df61bdac&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["async","getAllProducts","http","api","res","get","data","products","err","error","Error","original","getProduct","id","getCart","from","url","this","$http","cart","carts","coupon","code","usedCoupon","num","length","$emit","console","log","$InformMessage","addToCart","i","cartPutIn","status","loadingItem","product_id","qty","post","emitter","emit","updateCart","item","put","deleteCartItem","delete","addCouponCode","couponCode","createOrder","order","form","orderId","getOrder","isLoading","pageShow","searchResult","notFound","connectError","push","user","Object","values","forEach","total","getOrderAll","page","success","orders","pagination","checkOut","signIn","token","expired","document","cookie","setTimeout","$router","adminGetProducts","adminUpdateProduct","tempProduct","httpMethod","isNew","getProducts","current_page","$refs","productModal","hideModal","uploadFile","upImg","files","formData","FormData","append","imageUrl","imagesUrl","adminDelProduct","title","delModal","getCoupons","coupons","updateCoupon","tempCoupon","couponModal","delCoupon","getOrderList","orderList","updateOrder","tempOrder","orderModal","delOrder","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_router_link","to","style","_cache","_hoisted_5","$data","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","word","_hoisted_9","_Fragment","_renderList","$options","filterData","_normalizeClass","fadeOut","key","_hoisted_10","_hoisted_11","type","onClick","_withModifiers","$event","deleteFavorite","disabled","_hoisted_13","src","alt","_hoisted_15","_hoisted_16","_hoisted_17","addProduct","name","head","meta","content","property","productList","favorite","JSON","parse","localStorage","getItem","methods","allProducts","favoriteId","indexOf","splice","setItem","stringify","Promise","resolve","message","computed","result","watch","newNum","oldNum","created","__exports__","render"],"ignoreList":[],"sourceRoot":""}